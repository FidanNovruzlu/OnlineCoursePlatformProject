@model CreateCourseVM
<style>
      .form-container {
        width: 80%;
        margin: 0 auto;
        padding-top: 50px;
      }

      .form-title {
        text-align: center;
        font-size: 24px;
      }

      hr {
        margin-top: 30px;
        margin-bottom: 30px;
        border: none;
        border-top: 1px solid #ccc;
      }

      .add-course-header h2 {
        font-size: 24px;
      }

      .add-course-info {
        margin-top: 30px;
      }

      .add-course-inner-header h4 {
        font-size: 20px;
        margin-bottom: 20px;
      }

      .add-course-form .form-group {
        margin-bottom: 20px;
      }

      .add-course-label {
        font-weight: bold;
      }

      .relative-form {
        position: relative;
      }

      .relative-form span {
        display: inline-block;
        margin-top: 5px;
      }

      .relative-file-upload {
        background-color: #eee;
        padding: 10px 15px;
        border-radius: 5px;
        cursor: pointer;
      }

      .add-image-box {
        width: 100px;
        height: 100px;
        border: 1px dashed #ccc;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .add-image-box i {
        font-size: 48px;
      }

      .add-video-box {
        margin-top: 10px;
      }

      .add-video-box i {
        font-size: 32px;
      }

      .add-course-section {
        margin-top: 20px;
        margin-bottom: 30px;
      }

      .curriculum-grid {
        margin-bottom: 20px;
      }

      .curriculum-head {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: #f0f0f0;
        padding: 10px 15px;
        border-top-left-radius: 5px;
        border-top-right-radius: 5px;
      }

      .curriculum-info {
        border: 1px solid #ccc;
        border-top: none;
        padding: 15px;
        border-bottom-left-radius: 5px;
        border-bottom-right-radius: 5px;
      }

      .faq-grid {
        margin-bottom: 20px;
      }

      .faq-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 15px;
        background-color: #f0f0f0;
        border-top-left-radius: 5px;
        border-top-right-radius: 5px;
      }

      .faq-header a {
        text-decoration: none;
        color: #000;
      }

      .faq-icon {
        font-size: 16px;
        margin-right: 5px;
      }

    
      .none {
        display: none;
      }
    </style>
<div class="mt-5">
    <section class="page-content course-sec ">
        <style>
                .none{
                    display:none;
                }
            </style>
        <hr />
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-12">
                    <div class="add-course-header">
                        <h2>Add New Course</h2>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="card">
                        <div class="widget-set">
                            <div class="widget-content multistep-form">
                                <div class="add-course-info">
                                        <div class="add-course-inner-header">
                                            <h4>Basic Information</h4>
                                        </div>
                                        <div class="add-course-form">
                                            <form method="post" enctype="multipart/form-data">
                                                <div class="form-group">
                                                    <label class="add-course-label" asp-for="Title">Course Title</label>
                                                    <input asp-for="Title" class="form-control" placeholder="Course Title">
                                                    <span class="text-danger" asp-validation-for="Title"></span>
                                                </div>
                                                <div class="form-group mb-0">
                                                    <label class="add-course-label" asp-for="Description">Course Description</label>
                                                     <input asp-for="Description" class="form-control" placeholder="Course Description">
                                                    <span class="text-danger" asp-validation-for="Description"></span>
                                                </div>
                                                <div class="row mt-4">
                                                    <div class="form-group col-md-6">
                                                        <label class="add-course-label">Courses Category</label>
                                                        <select class="form-control select" asp-for="CategoryId">
                                                            @foreach(var item in Model.Categories)
                                                            {
                                                                <option value="@item.Id">@item.Name</option>
                                                            }
                                                        </select>
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        <label class="add-course-label">Courses Level</label>
                                                        <select class="form-control select" asp-for="LevelId">
                                                            @foreach(var item in Model.Levels)
                                                            {
                                                                <option value="@item.Id">@item.Name</option>
                                                            }
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="add-course-info">
                                                    <div class="add-course-inner-header">
                                                        <h4>Courses Media</h4>
                                                    </div>
                                                    <div class="add-course-form row" >
                                                        <div class="col-md-6">
                                                            <div class="form-group ">
                                                                <label class="add-course-label" asp-for="Image">Course cover image</label>
                                                                <input asp-for="Image" class="form-control" > 
                                                                <span asp-validation-for="Image" class="text-danger"></span>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <label class="add-course-label" asp-for="Video"></label>
                                                                 <input asp-for="Video" class="form-control" > 
                                                                 <span asp-validation-for="Video" class="text-danger"></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <div class="add-course-info">
                                                    <div class="add-course-inner-header">
                                                        <h4>Curriculum</h4>
                                                    </div>
                                              
                                                     <div class="add-course-section">
                                                         <br />
                                                         <button type="button" class="btn section-create" id="sectionBtn">Add section</button>
                                                      </div>
                                                    <button type="button" class="btn btn-success btnCreate none">Create</button>
                                                    <div class="add-course-forme none" >
                                               </div>
                                                </div>
                                                <div class="add-course-info">
                                                    <div class="add-course-inner-header">
                                                        <h4>Requirements</h4>
                                                    </div>
                                                    <div class="add-course-form">
                                                        <div class="form-group form-group-tagsinput">
                                                            <label class="add-course-label" asp-for="Requirements">Requirements</label>
                                                            <input asp-for="Requirements" class="input-tags form-control">
                                                            <span class="text-danger" asp-validation-for="Requirements"></span>
                                                        </div>
                                                        <div class="form-group mb-0">
                                                            <label class="add-course-label" asp-for="Price"></label>
                                                            <input asp-for="Price" class="form-control" placeholder="10.00">
                                                            <span class="text-danger" asp-validation-for="Price"></span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="widget-btn">
                                                    <button type="submit" class="btn btn-info-light">Create</button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                <fieldset class="field-card">
                                    <div class="add-course-info">
                                        <div class="add-course-msg">
                                            <i class="fas fa-circle-check"></i>
                                            <h4>The Course Added Succesfully</h4>
                                        </div>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                    </div>
                 </div>
            </div>
        </div>
    </section>
</div>
<script>
    console.log("work");
    var count=0;
    const textDiv = document.querySelector(".add-course-section");
    const sectionBtn = document.querySelector("#sectionBtn");
    const courseForm = document.querySelector(".add-course-forme");
    const createBtn = document.querySelector(".btnCreate");

    createBtn.addEventListener("click", (event) => {
        const inputs = document.querySelectorAll(".sectionForm");
        const values = Array.from(inputs).map(input => input.value);
        console.log(values);
        event.preventDefault();
       var inputElements = textDiv.getElementsByTagName("input");
while (inputElements.length > 0) {
  textDiv.removeChild(inputElements[0]);
}

       courseForm.classList.remove("none");
        for (let i = 0; i < values.length; i++) {
  const curriculumGrid = document.createElement("div");
  curriculumGrid.classList.add("curriculum-grid");
  const curriculumHead = document.createElement("div");
  curriculumHead.classList.add("curriculum-head");
  const sectionText = document.createElement("p");
  count=count+1;
  sectionText.innerText = `Section ${count }: ${values[i]}`;
  const lectureBtn = document.createElement("button");
  lectureBtn.classList.add("btn");
  lectureBtn.classList.add("lectureBtn");
  lectureBtn.innerText = "Add Lecture";
  const sectionInfo = document.createElement("div");
  sectionInfo.classList.add("sectionInfo");

  curriculumHead.appendChild(sectionText);
  curriculumHead.appendChild(lectureBtn);
  curriculumGrid.appendChild(curriculumHead);
  curriculumGrid.appendChild(sectionInfo);
  courseForm.appendChild(curriculumGrid);

  lectureBtn.addEventListener("click", (event) => {
    event.preventDefault();
    console.log("isleyir");
    console.log(sectionInfo);
    const curriculumInfo = document.createElement("div");
    curriculumInfo.classList.add("curriculum-info");
    const accordion = document.createElement("div");
    accordion.id = "accordion";
    const faqGrid = document.createElement("div");
    faqGrid.classList.add("faq-grid");
    const faqHeader = document.createElement("div");
    faqHeader.classList.add("faq-header");
    const faqCollapse = document.createElement("a");
    faqCollapse.classList.add("collapsed");
    faqCollapse.classList.add("faq-collapse");
    faqCollapse.setAttribute("data-bs-toggle", "collapse");
    faqCollapse.href = "#collapseOne";
    const faqIcon = document.createElement("i");
    faqIcon.classList.add("fas");
    faqIcon.classList.add("fa-align-justify");
    faqCollapse.appendChild(faqIcon);
    const faqText = document.createTextNode(values[i]);
    faqCollapse.appendChild(faqText);
    const faqRight = document.createElement("div");
    faqRight.classList.add("faq-right");
    const editLink = document.createElement("a");
    editLink.href = "javascript:void(0);";
    const editIcon = document.createElement("i");
    editIcon.classList.add("far");
    editIcon.classList.add("fa-pen-to-square");
    editLink.appendChild(editIcon);
    faqRight.appendChild(editLink);
    const deleteLink = document.createElement("a");
    deleteLink.href = "javascript:void(0);";
    deleteLink.classList.add("me-0");
    const deleteIcon = document.createElement("i");
    deleteIcon.classList.add("far");
    deleteIcon.classList.add("fa-trash-can");
    deleteLink.appendChild(deleteIcon);
    faqRight.appendChild(deleteLink);
    faqHeader.appendChild(faqCollapse);
    faqHeader.appendChild(faqRight);


    const faqBody = document.createElement("div");
    faqBody.classList.add("faq-body");
    const addArticleBtns = document.createElement("div");
    addArticleBtns.classList.add("add-article-btns");


     const addDescriptionBtn = document.createElement("a");
  addDescriptionBtn.href = "javascript:void(0);";
  addDescriptionBtn.classList.add("btn");
  addDescriptionBtn.classList.add("me-0");
  addDescriptionBtn.classList.add("descriptionBtn");
  addDescriptionBtn.innerText = "Add Description";

  addArticleBtns.appendChild(addDescriptionBtn);
  faqBody.appendChild(addArticleBtns);
  faqGrid.appendChild(faqHeader);
  faqGrid.appendChild(faqBody);
  accordion.appendChild(faqGrid);
  curriculumInfo.appendChild(accordion);
  sectionInfo.appendChild(curriculumInfo);

  addDescriptionBtn.addEventListener("click", () => {
    const inputElement = document.createElement("input");
    inputElement.setAttribute("type", "text");
    inputElement.setAttribute("placeholder", "write section name");
    inputElement.classList.add("form-control");
    inputElement.setAttribute("name", "Lectures");
    inputElement.classList.add("sectionForm");
    inputElement.style.cssText =
      "display:flex; flex-wrap:wrap; border-color:blue; width:50%;margin-top:5px";
    faqBody.appendChild(inputElement);
    addDescriptionBtn.classList.add("none");
  });
  });
}

    });

    sectionBtn.addEventListener("click", (event) => {
        event.preventDefault();
        createBtn.classList.remove("none");
        console.log("working");
        const inputElement = document.createElement("input");
        inputElement.setAttribute("type", "text");
        inputElement.setAttribute("placeholder", "write section name");
        inputElement.classList.add("form-control");
        inputElement.classList.add("sectionForm");
          inputElement.setAttribute("name", "Sections");
        inputElement.style.cssText = "display:flex; flex-wrap:wrap; border-color:blue; width:50%;margin-top:5px";
        textDiv.appendChild(inputElement);
    });
</script>